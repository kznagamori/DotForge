<Window x:Class="DotForge.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DotForge.Views"
        xmlns:vm="clr-namespace:DotForge.ViewModels"
        mc:Ignorable="d"
        Title="DotForge"
        Height="400" Width="600"
        ResizeMode="NoResize"
        Icon="../Assets/DotForge.ico">

    <!-- ◆ リソース領域: 共通Styleを定義 -->
    <Window.Resources>
        <!-- Label用のスタイル -->
        <Style TargetType="Label" x:Key="CommonLabelStyle">
            <Setter Property="Width" Value="160"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <!-- Margin, Fontなど他に共通化したいプロパティがあれば追加 -->
        </Style>

        <!-- ComboBox用のスタイル -->
        <Style TargetType="ComboBox" x:Key="CommonComboBoxStyle">
            <Setter Property="Width" Value="320"/>
            <!-- 他に共通化したいプロパティがあれば追加 -->
        </Style>

        <!-- TextBox用のスタイル -->
        <Style TargetType="TextBox" x:Key="CommonTextBoxStyle">
            <Setter Property="Width" Value="320"/>
            <!-- 他に共通化したいプロパティがあれば追加 -->
        </Style>

        <!-- Button用のスタイル -->
        <Style TargetType="Button" x:Key="CommonButtonStyle">
            <Setter Property="Width" Value="80"/>
            <Setter Property="Padding" Value="10,5"/>
            <!-- 他に共通化したいプロパティがあれば追加 -->
        </Style>
    </Window.Resources>

    <!-- ▼ ViewModel を DataContext に指定 -->
    <Window.DataContext>
        <vm:MainWindowViewModel/>
    </Window.DataContext>

    <DockPanel LastChildFill="True">

        <!-- メニューバー -->
        <Grid DockPanel.Dock="Top" Height="20" Background="White">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Menu Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Top" Height="48" Background="White">
                <MenuItem Header="_ファイル">
                    <MenuItem Header="終了" Click="ExitMenuItem_Click" />
                </MenuItem>
            </Menu>
            <Menu Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Top" Height="48" Background="White">
                <MenuItem Header="_ヘルプ" />
            </Menu>
        </Grid>

        <!-- ステータスバー -->
        <StatusBar DockPanel.Dock="Bottom">
            <TextBlock Text="{Binding StatusText, Mode=OneWay}"/>
        </StatusBar>

        <!-- コンテンツエリア -->
        <StackPanel Margin="4">

            <!-- 1行目: グループ (Label + ComboBox) [ボタン無し] -->
            <DockPanel Margin="4">
                <!-- Label は Styleを適用する -->
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="グループ："
                       IsEnabled="{Binding IsGroupRowEnabled}" />

                <!-- ComboBox は Styleを作るか、TextBoxStyleを流用するかで選択
                     ここでは個別プロパティ（Width="360"）を直接指定。
                     もし ComboBox も含めてスタイルにまとめたい場合は
                     ComboBox用Styleを別途定義してください。 -->
                <ComboBox DockPanel.Dock="Left"
                          Style="{StaticResource CommonComboBoxStyle}"
                          ItemsSource="{Binding Groups}"
                          SelectedItem="{Binding SelectedGroup, Mode=TwoWay}"
                          IsEnabled="{Binding IsGroupRowEnabled}" />

                <!-- 右端：ダミー要素 -->
                <Rectangle DockPanel.Dock="Right"
                           Width="80"
                           Fill="Transparent"/>
            </DockPanel>


            <!-- 2行目: テンプレート (Label + ComboBox) [ボタン無し] -->
            <DockPanel Margin="4">
                <!-- Label は Styleを適用する -->
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="テンプレート："
                       IsEnabled="{Binding IsTemplateRowEnabled}" />

                <!-- ComboBox は Styleを作るか、TextBoxStyleを流用するかで選択
                     ここでは個別プロパティ（Width="360"）を直接指定。
                     もし ComboBox も含めてスタイルにまとめたい場合は
                     ComboBox用Styleを別途定義してください。 -->
                <ComboBox DockPanel.Dock="Left"
                          Style="{StaticResource CommonComboBoxStyle}"
                          ItemsSource="{Binding Templates}"
                          SelectedItem="{Binding SelectedTemplate, Mode=TwoWay}"
                          IsEnabled="{Binding IsTemplateRowEnabled}" />

                <!-- 右端：ダミー要素 -->
                <Rectangle DockPanel.Dock="Right"
                           Width="80"
                           Fill="Transparent"/>
            </DockPanel>

            <!-- 3行目: プロジェクトファイル (Label + ComboBox + 開くボタン) -->
            <DockPanel Margin="4">
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="プロジェクトファイル："
                       IsEnabled="{Binding IsProjectFileRowEnabled}" />

                <ComboBox DockPanel.Dock="Left"
                         Style="{StaticResource CommonComboBoxStyle}"
                         ItemsSource="{Binding ProjectFilePaths}"
                         SelectedItem="{Binding SelectedProjectFilePath, Mode=TwoWay}"
                         IsEnabled="{Binding IsProjectFileRowEnabled}" />

                <!-- ボタンは ButtonStyleを適用 -->
                <Button DockPanel.Dock="Right"
                        Style="{StaticResource CommonButtonStyle}"
                        Content="開く"
                        Command="{Binding OpenProjectFileCommand}"
                        IsEnabled="{Binding IsProjectFileRowEnabled}" />
            </DockPanel>

            <!-- 4行目: プロジェクト名 (Label + TextBox) [ボタン無し] -->
            <DockPanel Margin="4">
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="プロジェクト名："
                       IsEnabled="{Binding IsProjectNameRowEnabled}" />

                <TextBox DockPanel.Dock="Left"
                         Style="{StaticResource CommonTextBoxStyle}"
                         Text="{Binding ProjectName, Mode=TwoWay}"
                         IsEnabled="{Binding IsProjectNameRowEnabled}" />

                <Rectangle DockPanel.Dock="Right"
                           Width="80"
                           Fill="Transparent"/>
            </DockPanel>

            <!-- 5行目: クラス名 (Label + TextBox) [ボタン無し] -->
            <DockPanel Margin="4">
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="クラス名："
                       IsEnabled="{Binding IsClassNameRowEnabled}" />

                <TextBox DockPanel.Dock="Left"
                         Style="{StaticResource CommonTextBoxStyle}"
                         Text="{Binding ClassName, Mode=TwoWay}"
                         IsEnabled="{Binding IsClassNameRowEnabled}" />

                <Rectangle DockPanel.Dock="Right"
                           Width="80"
                           Fill="Transparent"/>
            </DockPanel>

            <!-- 6行目: dotnetバージョン (Label + TextBox) [ボタン無し] -->
            <DockPanel Margin="4">
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="dotnetバージョン："
                       IsEnabled="{Binding IsDotnetVersionRowEnabled}" />

                <TextBox DockPanel.Dock="Left"
                         Style="{StaticResource CommonTextBoxStyle}"
                         Text="{Binding DotnetVersion, Mode=TwoWay}"
                         IsEnabled="{Binding IsDotnetVersionRowEnabled}" />

                <Rectangle DockPanel.Dock="Right"
                           Width="80"
                           Fill="Transparent"/>
            </DockPanel>

            <!-- 7行目: Windows SDK バージョン (Label + TextBox) [ボタン無し] -->
            <DockPanel Margin="4">
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="Windows SDK バージョン："
                       IsEnabled="{Binding IsWindowsSDKVersionRowEnabled}" />

                <ComboBox DockPanel.Dock="Left"
                         Style="{StaticResource CommonComboBoxStyle}"
                          ItemsSource="{Binding WindowsSDKVersionList}"
                          SelectedItem="{Binding SelectedWindowsSDKVersion, Mode=TwoWay}"
                          IsEnabled="{Binding IsWindowsSDKVersionRowEnabled}" />

                <Rectangle DockPanel.Dock="Right"
                           Width="80"
                           Fill="Transparent"/>
            </DockPanel>

            <!-- 8行目: 出力先ディレクトリ (Label + TextBox + ボタン) -->
            <DockPanel Margin="4">
                <Label DockPanel.Dock="Left"
                       Style="{StaticResource CommonLabelStyle}"
                       Content="出力先ディレクトリ："
                       IsEnabled="{Binding IsOutputDirRowEnabled}" />

                <ComboBox DockPanel.Dock="Left"
                         Style="{StaticResource CommonComboBoxStyle}"
                         ItemsSource="{Binding OutputDirectorys, Mode=TwoWay}"
                         SelectedItem="{Binding SelectedOutputDirectory, Mode=TwoWay}"
                         IsEnabled="{Binding IsOutputDirRowEnabled}" />

                <Button DockPanel.Dock="Right"
                        Style="{StaticResource CommonButtonStyle}"
                        Content="開く"
                        Command="{Binding OpenOutputDirCommand}"
                        IsEnabled="{Binding IsOutputDirRowEnabled}" />
            </DockPanel>

            <!-- 9行目: 出力ボタン（右寄せ） -->
            <DockPanel Margin="4">
                <!-- 左側はダミー要素 -->
                <Rectangle DockPanel.Dock="Left"
                           Width="400"
                           Fill="Transparent"/>

                <Button DockPanel.Dock="Right"
                        Width="160"
                        Content="出力"
                        Padding="10,5"
                        Command="{Binding GenerateOutputCommand}"
                        IsEnabled="{Binding IsOutputEnabled}" />
            </DockPanel>
        </StackPanel>
    </DockPanel>
</Window>
